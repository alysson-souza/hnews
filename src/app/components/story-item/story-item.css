@reference '../../../styles.css';

/* Story Item Card */
.story-card {
  @apply relative flex flex-col sm:flex-row border border-gray-200 dark:border-slate-700/60 rounded-xl shadow-sm hover:shadow-md dark:shadow-md dark:shadow-black/40 dark:hover:shadow-lg dark:hover:shadow-black/50 mb-3 overflow-hidden;
  @apply bg-white dark:bg-slate-800;
  transition: all 0.2s ease;
}

@media (display-mode: standalone) {
  .story-card {
    margin-left: env(safe-area-inset-left, 0px);
    margin-right: env(safe-area-inset-right, 0px);
  }
}

.story-card:hover {
  @apply border-gray-300 dark:border-slate-600;
}

.story-card-selected {
  @apply ring-2 ring-blue-500 dark:ring-blue-400 border-blue-500 dark:border-blue-400;
  @apply bg-blue-50/30 dark:bg-blue-900/10;
}

/* Vote Section */
.vote-section {
  /* Mobile-first (default): horizontal layout at top */
  @apply flex flex-row items-center gap-3;
  @apply px-4 py-2;
  @apply bg-gray-50/50 dark:bg-slate-800/50;
  @apply border-b sm:border-b-0 sm:border-r border-gray-100 dark:border-slate-700/50;
  @apply w-full;

  /* Desktop (sm: breakpoint): vertical layout on left */
  @apply sm:flex-col sm:items-center sm:justify-center sm:gap-1;
  @apply sm:px-2 sm:py-3;
  @apply sm:w-[80px] sm:min-w-[80px];
  @apply sm:flex-shrink-0;
}
.vote-button {
  @apply hover:scale-110 transition-transform cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 rounded-full p-1;
  @apply text-gray-400 hover:text-blue-600 dark:text-slate-500 dark:hover:text-blue-400;
  @apply hover:bg-blue-50 dark:hover:bg-blue-900/20;
}
.vote-button-active {
  @apply text-blue-600 dark:text-blue-400;
}
.vote-button-voted {
  @apply text-blue-600 dark:text-blue-400 opacity-100;
}
.vote-count {
  @apply font-bold text-lg sm:text-xl text-gray-700 dark:text-slate-300;
}
.vote-count-active {
  @apply text-blue-600 dark:text-blue-400;
}
.vote-count-voted {
  @apply text-blue-600 dark:text-blue-400;
}

/* Vote Section Skeleton Loaders */
.vote-skeleton-icon {
  @apply w-6 h-6 sm:w-8 sm:h-8 bg-gray-200 dark:bg-slate-700 rounded-full;
}
.vote-skeleton-count {
  @apply w-8 h-5 sm:h-6 bg-gray-200 dark:bg-slate-700 rounded;
}

/* Content */
.story-content {
  @apply flex-1 p-4 min-w-0 overflow-hidden relative;
}

.story-content::before {
  content: '';
  @apply absolute inset-0 pointer-events-none;
  @apply bg-gradient-to-r from-transparent via-transparent to-white/0;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.story-card:hover .story-content::before {
  opacity: 1;
}

.story-title {
  @apply text-base sm:text-lg font-semibold break-words;
}
.story-title-unread {
  @apply text-gray-900 dark:text-gray-100;
}
.story-title-visited {
  @apply text-gray-800 dark:text-gray-200;
}
.story-title-link {
  @apply hover:text-blue-600 dark:hover:text-blue-400 transition-colors;
}
.story-desc {
  @apply hidden sm:block text-sm mt-1 truncate text-gray-600 dark:text-gray-300;
}

/* Meta */
.story-meta {
  @apply flex flex-nowrap items-center gap-2 whitespace-nowrap leading-none text-xs sm:text-sm text-gray-600 dark:text-gray-400;
}
.story-points {
  @apply font-medium;
}
.story-points-high {
  @apply text-orange-600 dark:text-orange-400;
}
.story-author {
  @apply font-medium hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors;
}
.author-link {
  @apply text-blue-600 dark:text-blue-300 hover:underline cursor-pointer;
}
.story-time {
  @apply text-gray-500 dark:text-gray-400;
}
.story-comments {
  @apply inline-flex items-center text-blue-600 dark:text-blue-300 hover:underline cursor-pointer transition-colors;
}

.story-meta app-user-tag {
  display: inline-flex;
  align-items: center;
}
.new-comments-badge {
  @apply text-gray-500 dark:text-gray-400 text-xs ml-1;
}
.story-domain {
  @apply text-gray-500 dark:text-gray-400 truncate max-w-[150px] sm:max-w-[200px];
}
.domain-btn {
  @apply inline-block text-xs text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 hover:underline cursor-pointer break-all;
}

/* Actions */
.story-actions-btn {
  @apply p-1 sm:p-2 text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-300 hover:bg-gray-100 dark:hover:bg-slate-800 rounded transition-colors cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500;
}
.story-actions-menu {
  @apply w-64 bg-white dark:bg-slate-900 rounded-lg shadow-lg dark:shadow-2xl border border-gray-200 dark:border-slate-700 z-20;
}
.story-actions-menu-fixed {
  @apply fixed;
}
.story-actions-item {
  @apply w-full px-4 py-2 text-left text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-blue-500;
}
.story-actions-item-top {
  @apply rounded-t-lg;
}
.story-actions-divider {
  @apply border-t border-gray-200 dark:border-slate-700;
}
.story-actions-item-bottom {
  @apply rounded-b-lg;
}

/* Indicators & tags */
.story-tag {
  @apply px-2 py-0.5 text-xs text-white rounded-full;
}
