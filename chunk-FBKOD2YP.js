import{i as oe,l as ie}from"./chunk-GUKGSMOL.js";import{a as de}from"./chunk-Y3ERJQK2.js";import{a as re,b as ae,e as se,j as le}from"./chunk-3YHQ6ILU.js";import{$a as h,Aa as q,Ab as f,Bb as Y,Cb as E,Ea as s,Eb as Z,Fb as ee,Gb as te,Jb as ne,Ma as u,Nb as z,Sa as x,_ as L,_a as y,_b as I,ab as g,ac as b,cb as K,da as p,db as J,ea as m,eb as d,fa as k,fb as l,gb as a,hb as C,ib as M,jb as O,kb as S,lb as _,mb as V,na as v,nb as w,ob as D,pb as r,qb as W,rb as j,xb as Q,yb as X}from"./chunk-LIN6E6HI.js";var me=[[["","header",""]],[["","body",""]]],he=["[header]","[body]"];function ge(t,n){if(t&1){let e=_();l(0,"button",4),w("click",function(){p(e);let i=r();return m(i.toggleThread.emit())}),a()}if(t&2){let e=r();d("ngClass",e.depth>0?"-left-2 sm:-left-4":"left-0"),y("aria-label",e.collapsed?"Expand thread":"Collapse thread")("aria-expanded",!e.collapsed)}}var R=class t{depth=0;clickable=!0;collapsed=!1;toggleThread=new x;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-thread-gutter"]],inputs:{depth:"depth",clickable:"clickable",collapsed:"collapsed"},outputs:{toggleThread:"toggleThread"},ngContentSelectors:he,decls:6,vars:2,consts:[[1,"thread-container","group",3,"ngClass"],[1,"header"],[1,"content","relative"],["type","button","title","Toggle thread",1,"thread-overlay",3,"ngClass"],["type","button","title","Toggle thread",1,"thread-overlay",3,"click","ngClass"]],template:function(e,o){e&1&&(W(me),l(0,"div",0)(1,"div",1),j(2),a(),l(3,"div",2),h(4,ge,1,3,"button",3),j(5,1),a()()),e&2&&(d("ngClass",o.depth>0?"thread-indent":""),s(4),g(o.clickable?4:-1))},dependencies:[b,I],styles:[`@layer properties;.thread-container[_ngcontent-%COMP%]{position:relative;margin-bottom:calc(var(--spacing, .25rem) * 4)}.thread-indent[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 2);border-left-style:var(--tw-border-style);border-left-width:2px;border-color:var(--color-gray-200, oklch(92.8% .006 264.531));padding-left:calc(var(--spacing, .25rem) * 2);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function, cubic-bezier(.4, 0, .2, 1)));transition-duration:var(--tw-duration, var(--default-transition-duration, .15s))}@media (width >= 40rem){.thread-indent[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 4)}}@media (width >= 40rem){.thread-indent[_ngcontent-%COMP%]{padding-left:calc(var(--spacing, .25rem) * 4)}}.thread-indent[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-700, oklch(37.2% .044 257.287))}.thread-indent[_ngcontent-%COMP%]:hover{border-color:var(--color-blue-300, oklch(80.9% .105 251.813))}.thread-indent[_ngcontent-%COMP%]:hover:where(.dark,.dark *){border-color:var(--color-blue-500, oklch(62.3% .214 259.815))}.thread-overlay[_ngcontent-%COMP%]{position:absolute;top:calc(var(--spacing, .25rem) * 0);height:100%;width:calc(var(--spacing, .25rem) * 3);cursor:pointer;background-color:transparent}@media (hover: hover){.thread-overlay[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,oklch(97% .014 254.604) 30%,transparent)}@supports (color: color-mix(in lab,red,red)){.thread-overlay[_ngcontent-%COMP%]:hover{background-color:color-mix(in oklab,var(--color-blue-50, oklch(97% .014 254.604)) 30%,transparent)}}}.thread-overlay[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.thread-overlay[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.thread-overlay[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}@media (width >= 40rem){.thread-overlay[_ngcontent-%COMP%]{width:calc(var(--spacing, .25rem) * 5)}}@media (hover: hover){.thread-overlay[_ngcontent-%COMP%]:where(.dark,.dark *):hover{background-color:color-mix(in srgb,oklch(37.2% .044 257.287) 30%,transparent)}@supports (color: color-mix(in lab,red,red)){.thread-overlay[_ngcontent-%COMP%]:where(.dark,.dark *):hover{background-color:color-mix(in oklab,var(--color-slate-700, oklch(37.2% .044 257.287)) 30%,transparent)}}}.header[_ngcontent-%COMP%]{position:relative;z-index:10}.content[_ngcontent-%COMP%]{position:relative;padding-top:calc(var(--spacing, .25rem) * 1)}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-border-style: solid;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};var N=class t{voted=!1;disabled=!1;ariaLabel="";vote=new x;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-upvote-button"]],inputs:{voted:"voted",disabled:"disabled",ariaLabel:"ariaLabel"},outputs:{vote:"vote"},decls:3,vars:9,consts:[["type","button",1,"vote-btn",3,"click","disabled"],["fill","currentColor","viewBox","0 0 20 20","aria-hidden","true",1,"icon"],["d","M10 3L3 10h4v7h6v-7h4L10 3z"]],template:function(e,o){e&1&&(M(0,"button",0),D("click",function(){return o.vote.emit()}),k(),M(1,"svg",1),S(2,"path",2),O()()),e&2&&(X("text-blue-600",!o.voted)("text-gray-400",o.voted)("opacity-50",o.voted),V("disabled",o.disabled||o.voted),y("aria-label",o.ariaLabel||(o.voted?"Already upvoted":"Upvote"))("aria-pressed",o.voted))},styles:[`@layer properties;.vote-btn[_ngcontent-%COMP%]{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;border-radius:.25rem;--tw-leading: 1;line-height:1;transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function, cubic-bezier(.4, 0, .2, 1)));transition-duration:var(--tw-duration, var(--default-transition-duration, .15s))}@media (hover: hover){.vote-btn[_ngcontent-%COMP%]:hover{--tw-scale-x: 110%;--tw-scale-y: 110%;--tw-scale-z: 110%;scale:var(--tw-scale-x) var(--tw-scale-y)}}.vote-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.vote-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.vote-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.icon[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 3);width:calc(var(--spacing, .25rem) * 3)}@media (width >= 40rem){.icon[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 4)}}@media (width >= 40rem){.icon[_ngcontent-%COMP%]{width:calc(var(--spacing, .25rem) * 4)}}@property --tw-leading{syntax: "*"; inherits: false;}@property --tw-scale-x{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-y{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-scale-z{syntax: "*"; inherits: false; initial-value: 1;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-leading: initial;--tw-scale-x: 1;--tw-scale-y: 1;--tw-scale-z: 1;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};var ue=t=>["/user",t];function we(t,n){if(t&1){let e=_();l(0,"button",5),w("click",function(i){p(e);let c=r();return m(c.startEdit(i))})("keyup.enter",function(i){p(e);let c=r();return m(c.startEdit(i))})("keyup.space",function(i){p(e);let c=r();return m(c.startEdit(i))}),f(1),a()}if(t&2){let e=r();Q("background-color",e.tag().color),y("aria-label","Tag: "+e.tag().tag),s(),E(" ",e.tag().tag," ")}}function fe(t,n){if(t&1){let e=_();l(0,"button",6),w("click",function(i){p(e);let c=r();return m(c.startEdit(i))}),f(1," [+] "),a()}if(t&2){let e=r();y("aria-label","Add tag for "+e.username)}}function ve(t,n){if(t&1){let e=_();l(0,"button",10),w("click",function(){p(e);let i=r(2);return m(i.removeTag())}),f(1," \u2717 "),a()}t&2&&y("aria-label","Remove tag")}function Ce(t,n){if(t&1){let e=_();l(0,"div",1)(1,"input",7,0),te("ngModelChange",function(i){p(e);let c=r();return ee(c.editValue,i)||(c.editValue=i),m(i)}),w("keyup.enter",function(){p(e);let i=r();return m(i.saveTag())})("keyup.escape",function(){p(e);let i=r();return m(i.cancelEdit())})("blur",function(){p(e);let i=r();return m(i.onInputBlur())}),a(),l(3,"button",8),w("mousedown",function(){p(e);let i=r();return m(i.saveTag())}),f(4," \u2713 "),a(),h(5,ve,2,1,"button",9),a()}if(t&2){let e=r();s(),Z("ngModel",e.editValue),y("aria-label","Enter tag for "+e.username),s(2),y("aria-label","Save tag"),s(2),g(e.tag()?5:-1)}}var U=class t{username;tagsService=L(de);tag=v(this.tagsService.getTag(this.username));editing=v(!1);editValue="";ngOnInit(){this.tag.set(this.tagsService.getTag(this.username))}startEdit(n){n.preventDefault(),n.stopPropagation(),this.editing.set(!0),this.editValue=this.tag()?.tag||"",setTimeout(()=>{let e=document.querySelector('input[aria-label*="'+this.username+'"]');e?.focus(),e?.select()},0)}saveTag(){let n=this.editValue.trim();n?(this.tagsService.setTag(this.username,n),this.tag.set(this.tagsService.getTag(this.username))):this.tag()&&(this.tagsService.removeTag(this.username),this.tag.set(void 0)),this.editing.set(!1),this.editValue=""}removeTag(){this.tagsService.removeTag(this.username),this.tag.set(void 0),this.editing.set(!1),this.editValue=""}onInputBlur(){setTimeout(()=>{this.editing()&&this.cancelEdit()},100)}cancelEdit(){this.editing.set(!1),this.editValue=""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-user-tag"]],inputs:{username:"username"},decls:6,vars:8,consts:[["tagInput",""],[1,"inline-flex","items-center","gap-1"],[1,"username-link",3,"routerLink"],["type","button",1,"px-1.5","py-0.5","text-xs","text-white","rounded","cursor-pointer",3,"background-color"],[1,"text-gray-400","hover:text-gray-600","text-xs","cursor-pointer","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-blue-500","rounded","px-1"],["type","button",1,"px-1.5","py-0.5","text-xs","text-white","rounded","cursor-pointer",3,"click","keyup.enter","keyup.space"],[1,"text-gray-400","hover:text-gray-600","text-xs","cursor-pointer","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-blue-500","rounded","px-1",3,"click"],["type","text","placeholder","Tag...",1,"px-1","py-0","text-xs","border","border-gray-300","rounded","w-20","focus:outline-none","focus:ring-1","focus:ring-blue-500",3,"ngModelChange","keyup.enter","keyup.escape","blur","ngModel"],[1,"text-green-600","hover:text-green-800","text-xs","cursor-pointer",3,"mousedown"],[1,"text-red-600","hover:text-red-800","text-xs","cursor-pointer"],[1,"text-red-600","hover:text-red-800","text-xs","cursor-pointer",3,"click"]],template:function(e,o){e&1&&(l(0,"span",1)(1,"a",2),f(2),a(),h(3,we,2,4,"button",3),h(4,fe,2,1,"button",4),h(5,Ce,6,4,"div",1),a()),e&2&&(s(),d("routerLink",ne(6,ue,o.username)),y("aria-label","View profile of "+o.username),s(),E(" ",o.username," "),s(),g(o.tag()&&!o.editing()?3:-1),s(),g(!o.tag()&&!o.editing()?4:-1),s(),g(o.editing()?5:-1))},dependencies:[b,le,re,ae,se,oe],styles:[`@layer properties;.username-link[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-blue-600, oklch(54.6% .245 262.881));border-radius:.25rem}@media (hover: hover){.username-link[_ngcontent-%COMP%]:hover{text-decoration-line:underline}}.username-link[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};var B=class t{timestamp;format(n){let e=Math.floor(Date.now()/1e3-n),o=Math.floor(e/60),i=Math.floor(o/60),c=Math.floor(i/24);return c>0?`${c} day${c>1?"s":""} ago`:i>0?`${i} hour${i>1?"s":""} ago`:o>0?`${o} minute${o>1?"s":""} ago`:"just now"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-relative-time"]],inputs:{timestamp:"timestamp"},decls:2,vars:1,consts:[[1,"time-text"]],template:function(e,o){e&1&&(M(0,"span",0),f(1),O()),e&2&&(s(),Y(o.format(o.timestamp)))},styles:[`.time-text[_ngcontent-%COMP%]{color:var(--color-gray-500, oklch(55.1% .027 264.364))}.time-text[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-500, oklch(55.1% .027 264.364))}

`]})};function _e(t,n){t&1&&(M(0,"span",1),k(),M(1,"svg",2),S(2,"circle",3)(3,"path",4),O(),f(4," Loading... "),O())}function ye(t,n){if(t&1&&f(0),t&2){let e=r();E(" [+",e.count," replies] ")}}var H=class t{count=0;loading=!1;expand=new x;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-replies-counter"]],inputs:{count:"count",loading:"loading"},outputs:{expand:"expand"},decls:3,vars:3,consts:[["type","button",1,"expand-btn",3,"click","disabled"],[1,"flex","items-center","gap-1"],["fill","none","viewBox","0 0 24 24",1,"w-3","h-3","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,o){e&1&&(M(0,"button",0),D("click",function(){return o.expand.emit()}),h(1,_e,5,0,"span",1)(2,ye,1,1),O()),e&2&&(V("disabled",o.loading||o.count<=0),y("aria-label","Expand "+o.count+" replies"),s(),g(o.loading?1:2))},styles:[`@layer properties;.expand-btn[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 2);cursor:pointer;border-radius:.25rem;padding-inline:calc(var(--spacing, .25rem) * 1);font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-blue-600, oklch(54.6% .245 262.881))}@media (hover: hover){.expand-btn[_ngcontent-%COMP%]:hover{color:var(--color-blue-800, oklch(42.4% .199 265.638))}}.expand-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.expand-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.expand-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.expand-btn[_ngcontent-%COMP%]:disabled{opacity:50%}.expand-btn[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}@media (hover: hover){.expand-btn[_ngcontent-%COMP%]:where(.dark,.dark *):hover{color:var(--color-blue-200, oklch(88.2% .059 254.128))}}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};function be(t,n){if(t&1&&C(0,"app-user-tag",2),t&2){let e=r();d("username",e.by)}}function xe(t,n){if(t&1){let e=_();l(0,"app-replies-counter",5),w("expand",function(){p(e);let i=r();return m(i.expand.emit())}),a()}if(t&2){let e=r();d("count",e.repliesCount)("loading",e.loadingReplies)}}var F=class t{by;timestamp;voted=!1;repliesCount=0;showExpand=!1;loadingReplies=!1;upvote=new x;expand=new x;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-comment-header"]],inputs:{by:"by",timestamp:"timestamp",voted:"voted",repliesCount:"repliesCount",showExpand:"showExpand",loadingReplies:"loadingReplies"},outputs:{upvote:"upvote",expand:"expand"},decls:5,vars:5,consts:[[1,"comment-header"],[3,"vote","voted","ariaLabel"],[3,"username"],[3,"timestamp"],[1,"ml-2",3,"count","loading"],[1,"ml-2",3,"expand","count","loading"]],template:function(e,o){e&1&&(l(0,"div",0)(1,"app-upvote-button",1),w("vote",function(){return o.upvote.emit()}),a(),h(2,be,1,1,"app-user-tag",2),C(3,"app-relative-time",3),h(4,xe,1,2,"app-replies-counter",4),a()),e&2&&(s(),d("voted",o.voted)("ariaLabel",o.voted?"Already upvoted comment":"Upvote comment"),s(),g(o.by?2:-1),s(),d("timestamp",o.timestamp),s(),g(o.showExpand?4:-1))},dependencies:[N,U,B,H],styles:[`.comment-header[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 0);display:flex;align-items:center;gap:calc(var(--spacing, .25rem) * 2);font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-gray-600, oklch(44.6% .03 256.802))}@media (width >= 40rem){.comment-header[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)))}}.comment-header[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}

`]})};var $=class t{html="";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-comment-text"]],inputs:{html:"html"},decls:1,vars:1,consts:[[1,"comment-body",3,"innerHTML"]],template:function(e,o){e&1&&S(0,"div",0),e&2&&V("innerHTML",o.html,q)},dependencies:[b],styles:[`.comment-body[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 3);color:var(--tw-prose-body);max-width:65ch;--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;max-width:none;font-size:.875rem;line-height:1.7142857;font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-800, oklch(27.8% .033 256.848))}@media (width >= 40rem){.comment-body[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4)}}@media (width >= 40rem){.comment-body[_ngcontent-%COMP%]{font-size:var(--text-base, 1rem);line-height:var(--tw-leading, var(--text-base--line-height, 1.5 ))}}.comment-body[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-200, oklch(92.8% .006 264.531))}.comment-body.dark[_ngcontent-%COMP%]{--tw-prose-body: #d1d5db;--tw-prose-headings: #fff;--tw-prose-lead: #9ca3af;--tw-prose-links: #fff;--tw-prose-bold: #fff;--tw-prose-counters: #9ca3af;--tw-prose-bullets: #4b5563;--tw-prose-hr: #374151;--tw-prose-quotes: #f3f4f6;--tw-prose-quote-borders: #374151;--tw-prose-captions: #9ca3af;--tw-prose-code: #fff;--tw-prose-pre-code: #d1d5db;--tw-prose-pre-bg: #111827;--tw-prose-th-borders: #4b5563;--tw-prose-td-borders: #374151}.comment-body[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{margin-top:0!important}.comment-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-blue-600, oklch(54.6% .245 262.881));text-decoration-line:underline}@media (hover: hover){.comment-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-blue-800, oklch(42.4% .199 265.638))}}.comment-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}@media (hover: hover){.comment-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:where(.dark,.dark *):hover{color:var(--color-blue-200, oklch(88.2% .059 254.128))}}

`]})};function ke(t,n){t&1&&(l(0,"span",2),k(),l(1,"svg",3),C(2,"circle",4)(3,"path",5),a(),f(4," Loading comment... "),a())}function Me(t,n){t&1&&f(0," Load comment ")}var A=class t{loading=!1;depth=0;loadMore=new x;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-lazy-load-card"]],inputs:{loading:"loading",depth:"depth"},outputs:{loadMore:"loadMore"},decls:4,vars:3,consts:[[1,"comment-load-box",3,"ngClass"],[1,"load-btn",3,"click","disabled"],[1,"flex","items-center","gap-2"],["fill","none","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,o){e&1&&(l(0,"div",0)(1,"button",1),w("click",function(){return o.loadMore.emit()}),h(2,ke,5,0,"span",2)(3,Me,1,0),a()()),e&2&&(d("ngClass",o.depth>0?"thread-indent thread-container group":""),s(),d("disabled",o.loading),s(),g(o.loading?2:3))},dependencies:[b,I],styles:[`@layer properties;.comment-load-box[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4);border-radius:var(--radius-lg, .5rem);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-gray-200, oklch(92.8% .006 264.531));background-color:var(--color-gray-50, oklch(98.5% .002 247.839));padding:calc(var(--spacing, .25rem) * 3)}.comment-load-box[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-700, oklch(37.2% .044 257.287))}.comment-load-box[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-900, oklch(20.8% .042 265.755))}.thread-container[_ngcontent-%COMP%]{position:relative}.thread-indent[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 2);border-left-style:var(--tw-border-style);border-left-width:2px;border-color:var(--color-gray-200, oklch(92.8% .006 264.531));padding-left:calc(var(--spacing, .25rem) * 2)}@media (width >= 40rem){.thread-indent[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 4)}}@media (width >= 40rem){.thread-indent[_ngcontent-%COMP%]{padding-left:calc(var(--spacing, .25rem) * 4)}}.thread-indent[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-700, oklch(37.2% .044 257.287))}.load-btn[_ngcontent-%COMP%]{border-radius:var(--radius-md, .375rem);background-color:var(--color-blue-50, oklch(97% .014 254.604));padding-inline:calc(var(--spacing, .25rem) * 3);padding-block:calc(var(--spacing, .25rem) * 1);font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-blue-600, oklch(54.6% .245 262.881));transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function, cubic-bezier(.4, 0, .2, 1)));transition-duration:var(--tw-duration, var(--default-transition-duration, .15s))}@media (hover: hover){.load-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-100, oklch(93.2% .032 255.585))}}.load-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.load-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.load-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.load-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.load-btn[_ngcontent-%COMP%]:disabled{opacity:50%}@media (width >= 40rem){.load-btn[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)))}}.load-btn[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.load-btn[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}@media (hover: hover){.load-btn[_ngcontent-%COMP%]:where(.dark,.dark *):hover{background-color:var(--color-slate-700, oklch(37.2% .044 257.287))}}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-border-style: solid;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};var G=class t{depth=0;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-comment-skeleton"]],inputs:{depth:"depth"},decls:3,vars:1,consts:[[1,"animate-pulse","mb-4",3,"ngClass"],[1,"h-4","bg-gray-200","dark:bg-slate-800","rounded","w-1/4","mb-2"],[1,"h-3","bg-gray-200","dark:bg-slate-800","rounded","w-3/4"]],template:function(e,o){e&1&&(l(0,"div",0),C(1,"div",1)(2,"div",2),a()),e&2&&d("ngClass",o.depth>0?"ml-4 border-l-2 border-gray-200 dark:border-slate-700 pl-4 relative group":"")},dependencies:[b,I],encapsulation:2})};var Pe=(t,n)=>n.id;function Te(t,n){if(t&1){let e=_();l(0,"app-lazy-load-card",3),w("loadMore",function(){p(e);let i=r();return m(i.loadComment())}),a()}if(t&2){let e=r();d("depth",e.depth)("loading",e.loading())}}function Oe(t,n){if(t&1&&C(0,"app-comment-skeleton",1),t&2){let e=r();d("depth",e.depth)}}function Ee(t,n){t&1&&(l(0,"div",11)(1,"div",13),k(),l(2,"svg",14),C(3,"circle",15)(4,"path",16),a(),f(5," Loading replies... "),a()())}function Se(t,n){if(t&1&&C(0,"app-comment-thread",17),t&2){let e=r().$implicit,o=r(4);d("commentId",e.id)("depth",o.depth+1)("lazyLoad",!0)}}function Ve(t,n){if(t&1){let e=_();l(0,"app-thread-gutter",2)(1,"div",5)(2,"app-comment-header",18),w("upvote",function(){p(e);let i=r().$implicit,c=r(4);return m(c.upvoteById(i.id))}),a()(),l(3,"div",7),C(4,"app-comment-text",9),a()()}if(t&2){let e=r().$implicit,o=r(4);d("depth",o.depth+1)("clickable",!1)("collapsed",!1),s(2),d("by",e.by||"")("timestamp",e.time)("voted",o.hasVotedById(e.id))("repliesCount",0)("showExpand",!1)("loadingReplies",!1),s(2),d("html",e.text||"")}}function ze(t,n){if(t&1&&h(0,Se,1,3,"app-comment-thread",17)(1,Ve,5,10,"app-thread-gutter",2),t&2){let e=n.$implicit;g(e.kids&&e.kids.length>0?0:1)}}function Ie(t,n){t&1&&(l(0,"span",20),k(),l(1,"svg",21),C(2,"circle",15)(3,"path",16),a(),f(4," Loading... "),a())}function Le(t,n){if(t&1&&f(0),t&2){let e=r(5);E(" Load ",e.remainingRepliesCount," more replies ")}}function De(t,n){if(t&1){let e=_();l(0,"div",12)(1,"button",19),w("click",function(){p(e);let i=r(4);return m(i.loadMoreReplies())}),h(2,Ie,5,0,"span",20)(3,Le,1,1),a()()}if(t&2){let e=r(4);s(),d("disabled",e.loadingMore()),s(),g(e.loadingMore()?2:3)}}function Re(t,n){if(t&1&&(l(0,"div",10),h(1,Ee,6,0,"div",11),K(2,ze,2,1,null,null,Pe),h(4,De,4,2,"div",12),a()),t&2){let e=r(3);s(),g(e.loadingReplies()&&e.replies().length===0?1:-1),s(),J(e.replies()),s(2),g(e.hasMoreReplies()?4:-1)}}function Ne(t,n){if(t&1&&(C(0,"app-comment-text",9),h(1,Re,5,2,"div",10)),t&2){let e=r(2);d("html",e.comment().text||""),s(),g(e.replies().length>0||e.loadingReplies()?1:-1)}}function Ue(t,n){t&1&&(l(0,"span",8),f(1,"[collapsed]"),a())}function Be(t,n){if(t&1){let e=_();l(0,"app-thread-gutter",4),w("toggleThread",function(){p(e);let i=r();return m(i.toggleCollapse())}),l(1,"div",5)(2,"app-comment-header",6),w("upvote",function(){p(e);let i=r();return m(i.upvoteComment())})("expand",function(){p(e);let i=r();return m(i.expandReplies())}),a()(),l(3,"div",7),h(4,Ne,2,2)(5,Ue,2,0,"span",8),a()()}if(t&2){let e=r();d("depth",e.depth)("clickable",!0)("collapsed",e.isCollapsed()),s(2),d("by",e.comment().by||"")("timestamp",e.comment().time)("voted",e.hasVoted())("repliesCount",e.totalRepliesCount())("showExpand",e.showExpandButton())("loadingReplies",e.loadingReplies()),s(2),g(e.isCollapsed()?5:4)}}var pe=class t{commentId;depth=0;lazyLoad=!1;autoCollapseThreshold=10;hnService=L(ie);comment=v(null);replies=v([]);isCollapsed=v(!1);loading=v(!0);votedComments=v(new Set);repliesLoaded=v(!1);loadingReplies=v(!1);commentLoaded=v(!1);currentPage=v(0);pageSize=10;hasMoreReplies=v(!1);loadingMore=v(!1);allKidsIds=[];constructor(){let n=localStorage.getItem("votedComments");n&&this.votedComments.set(new Set(JSON.parse(n)))}hasVoted=z(()=>this.votedComments().has(this.comment()?.id||0));shouldAutoCollapse=z(()=>{let n=this.comment();return n?.kids&&n.kids.length>=this.autoCollapseThreshold});totalRepliesCount=z(()=>this.comment()?.kids?.length||0);showExpandButton=z(()=>this.totalRepliesCount()>0&&!this.repliesLoaded());showLoadButton=z(()=>this.lazyLoad&&!this.commentLoaded());get currentPageValue(){return this.currentPage()}get remainingRepliesCount(){let n=this.allKidsIds.length-(this.currentPage()+1)*this.pageSize;return Math.min(this.pageSize,n)}ngOnInit(){this.lazyLoad?this.loading.set(!1):this.loadComment()}loadComment(){this.loading.set(!0),this.hnService.getItem(this.commentId).subscribe({next:n=>{n&&!n.deleted?(this.comment.set(n),this.commentLoaded.set(!0),n.kids&&n.kids.length>0?(this.allKidsIds=n.kids,this.hasMoreReplies.set(n.kids.length>this.pageSize),this.loading.set(!1),this.shouldAutoCollapse()||setTimeout(()=>this.loadRepliesPage(0),50)):this.loading.set(!1)):this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}loadRepliesPage(n){n===0?this.loadingReplies.set(!0):this.loadingMore.set(!0),this.hnService.getItemsPage(this.allKidsIds,n,this.pageSize).subscribe({next:e=>{let o=e.filter(c=>c!==null&&!c.deleted);n===0?(this.replies.set(o),this.repliesLoaded.set(!0)):this.replies.update(c=>[...c,...o]),this.currentPage.set(n);let i=(n+1)*this.pageSize;this.hasMoreReplies.set(i<this.allKidsIds.length),this.loadingReplies.set(!1),this.loadingMore.set(!1)},error:()=>{this.loadingReplies.set(!1),this.loadingMore.set(!1)}})}loadMoreReplies(){if(!this.loadingMore()&&this.hasMoreReplies()){let n=this.currentPage()+1;this.loadRepliesPage(n)}}expandReplies(){!this.repliesLoaded()&&!this.loadingReplies()&&this.loadRepliesPage(0)}toggleCollapse(){this.isCollapsed.update(n=>!n)}upvoteComment(){if(this.hasVoted()||!this.comment())return;let n=new Set(this.votedComments());n.add(this.comment().id),this.votedComments.set(n),localStorage.setItem("votedComments",JSON.stringify(Array.from(n)))}hasVotedById(n){return this.votedComments().has(n)}upvoteById(n){if(this.votedComments().has(n))return;let e=new Set(this.votedComments());e.add(n),this.votedComments.set(e),localStorage.setItem("votedComments",JSON.stringify(Array.from(e)))}getTimeAgo(n){let e=Math.floor(Date.now()/1e3-n),o=Math.floor(e/60),i=Math.floor(o/60),c=Math.floor(i/24);return c>0?`${c} day${c>1?"s":""} ago`:i>0?`${i} hour${i>1?"s":""} ago`:o>0?`${o} minute${o>1?"s":""} ago`:"just now"}getIndentClass(){return`ml-${Math.min(this.depth,8)*4}`}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=u({type:t,selectors:[["app-comment-thread"]],inputs:{commentId:"commentId",depth:"depth",lazyLoad:"lazyLoad"},decls:3,vars:1,consts:[[3,"depth","loading"],[3,"depth"],[3,"depth","clickable","collapsed"],[3,"loadMore","depth","loading"],[3,"toggleThread","depth","clickable","collapsed"],["header",""],[3,"upvote","expand","by","timestamp","voted","repliesCount","showExpand","loadingReplies"],["body",""],[1,"collapsed-text"],[3,"html"],[1,"mt-2"],[1,"replies-loading"],[1,"mt-3","ml-2","sm:ml-4"],[1,"loading-inline"],["fill","none","viewBox","0 0 24 24",1,"w-4","h-4","animate-spin"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[3,"commentId","depth","lazyLoad"],[3,"upvote","by","timestamp","voted","repliesCount","showExpand","loadingReplies"],[1,"load-more-btn",3,"click","disabled"],[1,"flex","items-center","gap-1"],["fill","none","viewBox","0 0 24 24",1,"w-3","h-3","animate-spin"]],template:function(e,o){e&1&&h(0,Te,1,2,"app-lazy-load-card",0)(1,Oe,1,1,"app-comment-skeleton",1)(2,Be,6,10,"app-thread-gutter",2),e&2&&g(o.showLoadButton()?0:o.loading()?1:o.comment()?2:-1)},dependencies:[t,b,R,F,$,A,G],styles:[`@layer properties;.loading-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:calc(var(--spacing, .25rem) * 2);font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-500, oklch(55.1% .027 264.364))}.loading-inline[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-500, oklch(55.1% .027 264.364))}.replies-loading[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 2);padding-block:calc(var(--spacing, .25rem) * 2)}@media (width >= 40rem){.replies-loading[_ngcontent-%COMP%]{margin-left:calc(var(--spacing, .25rem) * 4)}}.load-more-btn[_ngcontent-%COMP%]{border-radius:var(--radius-md, .375rem);background-color:var(--color-blue-50, oklch(97% .014 254.604));padding-inline:calc(var(--spacing, .25rem) * 3);padding-block:calc(var(--spacing, .25rem) * 1);font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-blue-600, oklch(54.6% .245 262.881));transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease, var(--default-transition-timing-function, cubic-bezier(.4, 0, .2, 1)));transition-duration:var(--tw-duration, var(--default-transition-duration, .15s))}@media (hover: hover){.load-more-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-100, oklch(93.2% .032 255.585))}}.load-more-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.load-more-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.load-more-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.load-more-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.load-more-btn[_ngcontent-%COMP%]:disabled{opacity:50%}@media (width >= 40rem){.load-more-btn[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)))}}.load-more-btn[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.load-more-btn[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}@media (hover: hover){.load-more-btn[_ngcontent-%COMP%]:where(.dark,.dark *):hover{background-color:var(--color-slate-700, oklch(37.2% .044 257.287))}}.collapsed-text[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-500, oklch(55.1% .027 264.364));font-style:italic}.collapsed-text[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};export{pe as a};
