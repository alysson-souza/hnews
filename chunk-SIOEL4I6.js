import{a as D,d as H,g as L}from"./chunk-LF6FJDXD.js";import{a as F}from"./chunk-SJUERYRJ.js";import{a as $}from"./chunk-HDGETQUU.js";import{Ca as U,Pb as N,Qa as b,Ra as v,Ta as T,Ua as z,Va as g,Wa as i,Xa as r,Ya as _,_ as C,ab as O,ca as y,cb as S,da as M,eb as s,la as m,pb as l,qb as h,ra as P,rb as w,sa as I,wa as a,y as x,yb as f}from"./chunk-HNI5V3NG.js";var E=t=>["/item",t],q=(t,n)=>n.id;function A(t,n){t&1&&(i(0,"div",0),_(1,"div",2)(2,"div",3)(3,"div",4),i(4,"div",5),_(5,"div",6)(6,"div",6),r()())}function R(t,n){if(t&1&&(i(0,"div",13)(1,"h2",18),l(2,"About"),r(),_(3,"div",19),r()),t&2){let e=s(2);a(3),g("innerHTML",e.user().about,P)}}function j(t,n){t&1&&(i(0,"div",16),_(1,"div",20)(2,"div",20)(3,"div",20),r())}function J(t,n){if(t&1&&(i(0,"a",24),l(1),r()),t&2){let e=s(2).$implicit;g("href",e.url,I),a(),w(" ",e.title," ")}}function K(t,n){if(t&1&&(i(0,"a",25),l(1),r()),t&2){let e=s(2).$implicit;g("routerLink",f(2,E,e.id)),a(),w(" ",e.title," ")}}function B(t,n){if(t&1&&(i(0,"div")(1,"h3",23),b(2,J,2,2,"a",24)(3,K,2,4,"a",25),r(),i(4,"div",26)(5,"span"),l(6),r(),i(7,"span"),l(8,"\u2022"),r(),i(9,"span"),l(10),r(),i(11,"span"),l(12,"\u2022"),r(),i(13,"a",27),l(14),r()()()),t&2){let e=s().$implicit,o=s(3);a(2),v(e.url?2:3),a(4),w("",e.score||0," points"),a(4),h(o.getTimeAgo(e.time)),a(3),g("routerLink",f(5,E,e.id)),a(),w(" ",e.descendants||0," comments ")}}function G(t,n){if(t&1&&(i(0,"div"),_(1,"div",28),i(2,"div",26)(3,"span"),l(4),r(),i(5,"span"),l(6,"\u2022"),r(),i(7,"a",27),l(8," View Context "),r()()()),t&2){let e=s().$implicit,o=s(3);a(),g("innerHTML",e.text,P),a(3),h(o.getTimeAgo(e.time)),a(3),g("routerLink",f(3,E,e.parent))}}function Q(t,n){if(t&1&&(i(0,"div",21),b(1,B,15,7,"div")(2,G,9,5,"div"),r()),t&2){let e=n.$implicit;a(),v(e.type==="story"?1:e.type==="comment"?2:-1)}}function W(t,n){if(t&1){let e=O();i(0,"button",29),S("click",function(){y(e);let c=s(3);return M(c.loadMoreSubmissions())}),l(1),r()}if(t&2){let e=s(3);g("disabled",e.loadingMore()),a(),w(" ",e.loadingMore()?"Loading...":"Load More"," ")}}function X(t,n){if(t&1&&(i(0,"div",5),T(1,Q,3,1,"div",21,q),r(),b(3,W,2,2,"button",22)),t&2){let e=s(2);a(),z(e.submissions()),a(2),v(e.hasMore()?3:-1)}}function Y(t,n){t&1&&(i(0,"p",17),l(1,"No submissions yet"),r())}function Z(t,n){if(t&1&&(i(0,"app-card",7)(1,"h1",8),l(2),r(),i(3,"div",9)(4,"div",10)(5,"div",11),l(6,"Karma"),r(),i(7,"div",12),l(8),r()(),i(9,"div",10)(10,"div",11),l(11,"Member Since"),r(),i(12,"div",12),l(13),r()(),i(14,"div",10)(15,"div",11),l(16,"Submissions"),r(),i(17,"div",12),l(18),r()()(),b(19,R,4,1,"div",13),r(),i(20,"app-card",14)(21,"h2",15),l(22,"Recent Submissions"),r(),b(23,j,4,0,"div",16)(24,X,4,1)(25,Y,2,0,"p",17),r()),t&2){let e,o=s();a(2),h(o.user().id),a(6),h(o.user().karma),a(5),h(o.getDate(o.user().created)),a(5),h(((e=o.user().submitted)==null?null:e.length)||0),a(),v(o.user().about?19:-1),a(4),v(o.loadingSubmissions()?23:o.submissions().length>0?24:25)}}function ee(t,n){if(t&1){let e=O();i(0,"div",1)(1,"p",30),l(2),r(),i(3,"button",31),S("click",function(){y(e);let c=s();return M(c.loadUser())}),l(4,"Try Again"),r()()}if(t&2){let e=s();a(2),h(e.error())}}var V=class t{route=C(D);hnService=C(L);user=m(null);submissions=m([]);loading=m(!0);loadingSubmissions=m(!0);loadingMore=m(!1);error=m(null);currentPage=m(0);pageSize=20;ngOnInit(){this.route.params.subscribe(n=>{let e=n.id;e?this.loadUser(e):this.route.queryParams.subscribe(o=>{let c=o.id;c&&this.loadUser(c)})})}loadUser(n){let e=n||this.route.snapshot.params.id;if(!e){this.error.set("Invalid user ID"),this.loading.set(!1);return}this.loading.set(!0),this.error.set(null),this.hnService.getUser(e).subscribe({next:o=>{o?(this.user.set(o),this.loadSubmissions(o)):this.error.set("User not found"),this.loading.set(!1)},error:()=>{this.error.set("Failed to load user. Please try again."),this.loading.set(!1)}})}loadSubmissions(n){if(!n.submitted||n.submitted.length===0){this.loadingSubmissions.set(!1);return}this.loadingSubmissions.set(!0);let e=0,o=Math.min(this.pageSize,n.submitted.length),u=n.submitted.slice(e,o).map(p=>this.hnService.getItem(p));x(u).subscribe({next:p=>{let k=p.filter(d=>d!==null&&!d.deleted);this.submissions.set(k),this.loadingSubmissions.set(!1),this.currentPage.set(1)},error:()=>{this.loadingSubmissions.set(!1)}})}loadMoreSubmissions(){let n=this.user();if(!n||!n.submitted)return;this.loadingMore.set(!0);let e=this.currentPage()*this.pageSize,o=Math.min(e+this.pageSize,n.submitted.length),u=n.submitted.slice(e,o).map(p=>this.hnService.getItem(p));x(u).subscribe({next:p=>{let k=p.filter(d=>d!==null&&!d.deleted);this.submissions.update(d=>[...d,...k]),this.loadingMore.set(!1),this.currentPage.update(d=>d+1)},error:()=>{this.loadingMore.set(!1)}})}hasMore(){let n=this.user();return!n||!n.submitted?!1:this.currentPage()*this.pageSize<n.submitted.length}getTimeAgo(n){let e=Math.floor(Date.now()/1e3-n),o=Math.floor(e/60),c=Math.floor(o/60),u=Math.floor(c/24);return u>0?`${u} day${u>1?"s":""} ago`:c>0?`${c} hour${c>1?"s":""} ago`:o>0?`${o} minute${o>1?"s":""} ago`:"just now"}getDate(n){return new Date(n*1e3).toLocaleDateString()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=U({type:t,selectors:[["app-user"]],decls:4,vars:1,consts:[[1,"animate-pulse"],[1,"error-card"],[1,"skel-title","mb-4"],[1,"skel-line","mb-2"],[1,"skel-line","w-3/4","mb-8"],[1,"space-y-4"],[1,"skel-block"],[1,"block","mb-6"],[1,"user-title"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4","mb-6"],[1,"stat-box"],[1,"stat-label"],[1,"stat-value"],[1,"mb-6"],[1,"block"],[1,"subs-title"],[1,"animate-pulse","space-y-4"],[1,"empty"],[1,"about-title"],[1,"about-prose",3,"innerHTML"],[1,"skel-item"],[1,"sub-item"],[1,"subs-load-btn",3,"disabled"],[1,"sub-title"],["target","_blank","rel","noopener noreferrer",1,"title-link",3,"href"],[1,"title-link",3,"routerLink"],[1,"sub-meta"],[1,"sub-meta-link",3,"routerLink"],[1,"sub-comment","prose","prose-sm","max-w-none","mb-2","line-clamp-3",3,"innerHTML"],[1,"subs-load-btn",3,"click","disabled"],[1,"error-text"],[1,"error-btn",3,"click"]],template:function(e,o){e&1&&(i(0,"app-page-container"),b(1,A,7,0,"div",0)(2,Z,26,6)(3,ee,5,1,"div",1),r()),e&2&&(a(),v(o.loading()?1:o.user()?2:o.error()?3:-1))},dependencies:[N,H,$,F],styles:[`@layer properties;.skel-title[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 8);width:25%;border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-title[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-line[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 4);width:50%;border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-line[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-block[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 20);border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-block[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-item[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 16);border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-item[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.user-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4);font-size:var(--text-2xl, 1.5rem);line-height:var(--tw-leading, var(--text-2xl--line-height, calc(2 / 1.5)));--tw-font-weight: var(--font-weight-bold, 700);font-weight:var(--font-weight-bold, 700);color:var(--color-gray-900, oklch(21% .034 264.665))}.user-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.about-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 2);font-size:var(--text-lg, 1.125rem);line-height:var(--tw-leading, var(--text-lg--line-height, calc(1.75 / 1.125)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}@media (width >= 48rem){.about-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4)}}@media (width >= 48rem){.about-title[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)))}}.about-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.subs-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 2);font-size:var(--text-lg, 1.125rem);line-height:var(--tw-leading, var(--text-lg--line-height, calc(1.75 / 1.125)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}@media (width >= 48rem){.subs-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4)}}@media (width >= 48rem){.subs-title[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)))}}.subs-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-white, #fff)}.dark[_nghost-%COMP%]   .subs-title[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .subs-title[_ngcontent-%COMP%]{color:var(--color-white, #fff)}.stat-box[_ngcontent-%COMP%]{border-radius:.25rem;border-style:var(--tw-border-style);border-width:1px;border-color:transparent;background-color:var(--color-gray-50, oklch(98.5% .002 247.839));padding:calc(var(--spacing, .25rem) * 3)}.stat-box[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.stat-box[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-900, oklch(20.8% .042 265.755))}.stat-label[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-600, oklch(44.6% .03 256.802))}.stat-label[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.stat-value[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}.stat-value[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.about-prose[_ngcontent-%COMP%]{color:var(--tw-prose-body);max-width:65ch;--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;max-width:none;font-size:.875rem;line-height:1.7142857;color:var(--color-gray-800, oklch(27.8% .033 256.848))}.about-prose[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-200, oklch(92.8% .006 264.531))}.sub-item[_ngcontent-%COMP%]{border-bottom-style:var(--tw-border-style);border-bottom-width:1px;border-color:var(--color-gray-200, oklch(92.8% .006 264.531));padding-bottom:calc(var(--spacing, .25rem) * 4)}.sub-item[_ngcontent-%COMP%]:last-child{border-style:var(--tw-border-style);border-width:0px}.sub-item[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.sub-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 1);--tw-font-weight: var(--font-weight-medium, 500);font-weight:var(--font-weight-medium, 500);color:var(--color-gray-900, oklch(21% .034 264.665))}.sub-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}@media (hover: hover){.title-link[_ngcontent-%COMP%]:hover{color:var(--color-blue-600, oklch(54.6% .245 262.881))}}@media (hover: hover){.title-link[_ngcontent-%COMP%]:where(.dark,.dark *):hover{color:var(--color-blue-400, oklch(70.7% .165 254.624))}}.sub-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:calc(var(--spacing, .25rem) * 3);font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-600, oklch(44.6% .03 256.802))}.sub-meta[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.sub-meta-link[_ngcontent-%COMP%]{color:var(--color-blue-600, oklch(54.6% .245 262.881))}@media (hover: hover){.sub-meta-link[_ngcontent-%COMP%]:hover{text-decoration-line:underline}}.sub-meta-link[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}.sub-comment[_ngcontent-%COMP%]{color:var(--color-gray-800, oklch(27.8% .033 256.848))}.sub-comment[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-200, oklch(92.8% .006 264.531))}.subs-load-btn[_ngcontent-%COMP%]{margin-top:calc(var(--spacing, .25rem) * 6);width:100%;border-radius:.25rem;background-color:var(--color-blue-600, oklch(54.6% .245 262.881));padding-inline:calc(var(--spacing, .25rem) * 4);padding-block:calc(var(--spacing, .25rem) * 2);color:var(--color-white, #fff)}@media (hover: hover){.subs-load-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700, oklch(48.8% .243 264.376))}}.subs-load-btn[_ngcontent-%COMP%]:disabled{opacity:50%}.empty[_ngcontent-%COMP%]{padding-block:calc(var(--spacing, .25rem) * 8);text-align:center;color:var(--color-gray-500, oklch(55.1% .027 264.364))}.empty[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.error-card[_ngcontent-%COMP%]{border-radius:var(--radius-lg, .5rem);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-red-200, oklch(88.5% .062 18.334));background-color:var(--color-red-50, oklch(97.1% .013 17.38));padding:calc(var(--spacing, .25rem) * 6);text-align:center}.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-red-800, oklch(44.4% .177 26.899))}.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:color-mix(in srgb,oklch(39.6% .141 25.723) 30%,transparent)}@supports (color: color-mix(in lab,red,red)){.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-red-900, oklch(39.6% .141 25.723)) 30%,transparent)}}.error-text[_ngcontent-%COMP%]{color:var(--color-red-800, oklch(44.4% .177 26.899))}.error-text[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-red-300, oklch(80.8% .114 19.571))}.error-btn[_ngcontent-%COMP%]{margin-top:calc(var(--spacing, .25rem) * 4);border-radius:.25rem;background-color:var(--color-red-600, oklch(57.7% .245 27.325));padding-inline:calc(var(--spacing, .25rem) * 4);padding-block:calc(var(--spacing, .25rem) * 2);color:var(--color-white, #fff)}@media (hover: hover){.error-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-red-700, oklch(50.5% .213 27.518))}}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-red-500, oklch(63.7% .237 25.331))}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}@property --tw-font-weight{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-font-weight: initial;--tw-border-style: solid;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};export{V as UserComponent};
