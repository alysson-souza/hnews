import{a as $}from"./chunk-XFROXLY4.js";import{b as D,e as H,h as L}from"./chunk-HP54CIOY.js";import"./chunk-RS5A3SN3.js";import{a as V}from"./chunk-YPGCX6G6.js";import{a as F}from"./chunk-3MJIW37I.js";import{$ as P,Hb as N,Ka as u,La as v,Na as U,Oa as z,Pa as m,Qa as i,Ra as n,Sa as b,W as y,Wa as S,Ya as E,_ as M,_a as c,ha as p,jb as l,kb as _,lb as w,na as O,oa as I,rb as f,sa as a,w as x,ya as T}from"./chunk-F3RLHTIL.js";var C=t=>["/item",t],A=(t,o)=>o.id;function R(t,o){t&1&&(i(0,"div",0),b(1,"div",2)(2,"div",3)(3,"div",4),i(4,"div",5),b(5,"div",6)(6,"div",6),n()())}function j(t,o){if(t&1&&(i(0,"div",14)(1,"h2",19),l(2,"About"),n(),b(3,"div",20),n()),t&2){let e=c(2);a(3),m("innerHTML",e.user().about,O)}}function B(t,o){t&1&&(i(0,"div",17),b(1,"div",21)(2,"div",21)(3,"div",21),n())}function J(t,o){if(t&1&&(i(0,"a",25),l(1," [flagged] "),n()),t&2){let e=c(2).$implicit;m("routerLink",f(1,C,e.id))}}function K(t,o){if(t&1&&(i(0,"a",26),l(1),n()),t&2){let e=c(2).$implicit;m("href",e.url,I),a(),w(" ",e.title||"[untitled]"," ")}}function Y(t,o){if(t&1&&(i(0,"a",27),l(1),n()),t&2){let e=c(2).$implicit;m("routerLink",f(2,C,e.id)),a(),w(" ",e.title||"[untitled]"," ")}}function G(t,o){if(t&1&&(i(0,"div")(1,"h3",24),u(2,J,2,3,"a",25)(3,K,2,2,"a",26)(4,Y,2,4,"a",27),n(),i(5,"div",28)(6,"span"),l(7),n(),i(8,"span"),l(9,"\u2022"),n(),i(10,"span"),l(11),n(),i(12,"span"),l(13,"\u2022"),n(),i(14,"a",29),l(15),n()()()),t&2){let e=c().$implicit,r=c(3);a(2),v(e.dead?2:e.url?3:4),a(5),w("",e.score||0," points"),a(4),_(r.getTimeAgo(e.time)),a(3),m("routerLink",f(5,C,e.id)),a(),w(" ",e.descendants||0," comments ")}}function Q(t,o){if(t&1&&(i(0,"div"),b(1,"div",30),i(2,"div",28)(3,"span"),l(4),n(),i(5,"span"),l(6,"\u2022"),n(),i(7,"a",29),l(8," View Context "),n()()()),t&2){let e=c().$implicit,r=c(3);a(),m("innerHTML",e.text,O),a(3),_(r.getTimeAgo(e.time)),a(3),m("routerLink",f(3,C,e.parent))}}function W(t,o){if(t&1&&(i(0,"div",22),u(1,G,16,7,"div")(2,Q,9,5,"div"),n()),t&2){let e=o.$implicit;a(),v(e.type==="story"?1:e.type==="comment"?2:-1)}}function X(t,o){if(t&1){let e=S();i(0,"button",31),E("click",function(){M(e);let s=c(3);return P(s.loadMoreSubmissions())}),l(1),n()}if(t&2){let e=c(3);m("disabled",e.loadingMore()),a(),w(" ",e.loadingMore()?"Loading...":"Load More"," ")}}function Z(t,o){if(t&1&&(i(0,"div",5),U(1,W,3,1,"div",22,A),n(),u(3,X,2,2,"button",23)),t&2){let e=c(2);a(),z(e.submissions()),a(2),v(e.hasMore()?3:-1)}}function ee(t,o){t&1&&(i(0,"p",18),l(1,"No submissions yet"),n())}function te(t,o){if(t&1&&(i(0,"app-card",7)(1,"h1",8),b(2,"app-user-tag",9),n(),i(3,"div",10)(4,"div",11)(5,"div",12),l(6,"Karma"),n(),i(7,"div",13),l(8),n()(),i(9,"div",11)(10,"div",12),l(11,"Member Since"),n(),i(12,"div",13),l(13),n()(),i(14,"div",11)(15,"div",12),l(16,"Submissions"),n(),i(17,"div",13),l(18),n()()(),u(19,j,4,1,"div",14),n(),i(20,"app-card",15)(21,"h2",16),l(22,"Recent Submissions"),n(),u(23,B,4,0,"div",17)(24,Z,4,1)(25,ee,2,0,"p",18),n()),t&2){let e,r=c();a(2),m("username",r.user().id),a(6),_(r.user().karma),a(5),_(r.getDate(r.user().created)),a(5),_(((e=r.user().submitted)==null?null:e.length)||0),a(),v(r.user().about?19:-1),a(4),v(r.loadingSubmissions()?23:r.submissions().length>0?24:25)}}function oe(t,o){if(t&1){let e=S();i(0,"div",1)(1,"p",32),l(2),n(),i(3,"button",33),E("click",function(){M(e);let s=c();return P(s.loadUser())}),l(4,"Try Again"),n()()}if(t&2){let e=c();a(2),_(e.error())}}var q=class t{route=y(D);hnService=y(L);user=p(null);submissions=p([]);loading=p(!0);loadingSubmissions=p(!0);loadingMore=p(!1);error=p(null);currentPage=p(0);pageSize=20;ngOnInit(){this.route.params.subscribe(o=>{let e=o.id;e?this.loadUser(e):this.route.queryParams.subscribe(r=>{let s=r.id;s&&this.loadUser(s)})})}loadUser(o){let e=o||this.route.snapshot.params.id;if(!e){this.error.set("Invalid user ID"),this.loading.set(!1);return}this.loading.set(!0),this.error.set(null),this.hnService.getUser(e).subscribe({next:r=>{r?(this.user.set(r),this.loadSubmissions(r),setTimeout(()=>{let s=document.getElementById("user-profile");if(s){let d=s.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:Math.max(0,d),behavior:"smooth"})}},100)):this.error.set("User not found"),this.loading.set(!1)},error:()=>{this.error.set("Failed to load user. Please try again."),this.loading.set(!1)}})}loadSubmissions(o){if(!o.submitted||o.submitted.length===0){this.loadingSubmissions.set(!1);return}this.loadingSubmissions.set(!0);let e=0,r=Math.min(this.pageSize,o.submitted.length),g=o.submitted.slice(e,r).map(h=>this.hnService.getItem(h));x(g).subscribe({next:h=>{let k=h.filter(d=>d!==null&&!d.deleted);this.submissions.set(k),this.loadingSubmissions.set(!1),this.currentPage.set(1)},error:()=>{this.loadingSubmissions.set(!1)}})}loadMoreSubmissions(){let o=this.user();if(!o||!o.submitted)return;this.loadingMore.set(!0);let e=this.currentPage()*this.pageSize,r=Math.min(e+this.pageSize,o.submitted.length),g=o.submitted.slice(e,r).map(h=>this.hnService.getItem(h));x(g).subscribe({next:h=>{let k=h.filter(d=>d!==null&&!d.deleted);this.submissions.update(d=>[...d,...k]),this.loadingMore.set(!1),this.currentPage.update(d=>d+1)},error:()=>{this.loadingMore.set(!1)}})}hasMore(){let o=this.user();return!o||!o.submitted?!1:this.currentPage()*this.pageSize<o.submitted.length}getTimeAgo(o){let e=Math.floor(Date.now()/1e3-o),r=Math.floor(e/60),s=Math.floor(r/60),g=Math.floor(s/24);return g>0?`${g} day${g>1?"s":""} ago`:s>0?`${s} hour${s>1?"s":""} ago`:r>0?`${r} minute${r>1?"s":""} ago`:"just now"}getDate(o){return new Date(o*1e3).toLocaleDateString()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-user"]],decls:4,vars:1,consts:[[1,"animate-pulse"],[1,"error-card"],[1,"skel-title","mb-4"],[1,"skel-line","mb-2"],[1,"skel-line","w-3/4","mb-8"],[1,"space-y-4"],[1,"skel-block"],["id","user-profile",1,"block","mb-6"],[1,"user-title"],[3,"username"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-4","mb-6"],[1,"stat-box"],[1,"stat-label"],[1,"stat-value"],[1,"mb-6"],[1,"block"],[1,"subs-title"],[1,"animate-pulse","space-y-4"],[1,"empty"],[1,"about-title"],[1,"about-prose",3,"innerHTML"],[1,"skel-item"],[1,"sub-item"],[1,"subs-load-btn",3,"disabled"],[1,"sub-title"],[1,"title-link","dead-item",3,"routerLink"],["target","_blank","rel","noopener noreferrer",1,"title-link",3,"href"],[1,"title-link",3,"routerLink"],[1,"sub-meta"],[1,"sub-meta-link",3,"routerLink"],[1,"sub-comment","prose","prose-sm","max-w-none","mb-2","line-clamp-3",3,"innerHTML"],[1,"subs-load-btn",3,"click","disabled"],[1,"error-text"],[1,"error-btn",3,"click"]],template:function(e,r){e&1&&(i(0,"app-page-container"),u(1,R,7,0,"div",0)(2,te,26,6)(3,oe,5,1,"div",1),n()),e&2&&(a(),v(r.loading()?1:r.user()?2:r.error()?3:-1))},dependencies:[N,H,F,V,$],styles:[`@layer properties;.skel-title[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 8);width:25%;border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-title[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-line[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 4);width:50%;border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-line[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-block[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 20);border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-block[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.skel-item[_ngcontent-%COMP%]{height:calc(var(--spacing, .25rem) * 16);border-radius:.25rem;background-color:var(--color-gray-200, oklch(92.8% .006 264.531))}.skel-item[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.user-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4);font-size:var(--text-2xl, 1.5rem);line-height:var(--tw-leading, var(--text-2xl--line-height, calc(2 / 1.5)));--tw-font-weight: var(--font-weight-bold, 700);font-weight:var(--font-weight-bold, 700);color:var(--color-gray-900, oklch(21% .034 264.665))}.user-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.about-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 2);font-size:var(--text-lg, 1.125rem);line-height:var(--tw-leading, var(--text-lg--line-height, calc(1.75 / 1.125)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}@media (width >= 48rem){.about-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4)}}@media (width >= 48rem){.about-title[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)))}}.about-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.subs-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 2);font-size:var(--text-lg, 1.125rem);line-height:var(--tw-leading, var(--text-lg--line-height, calc(1.75 / 1.125)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}@media (width >= 48rem){.subs-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 4)}}@media (width >= 48rem){.subs-title[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)))}}.subs-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-white, #fff)}.dark[_nghost-%COMP%]   .subs-title[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .subs-title[_ngcontent-%COMP%]{color:var(--color-white, #fff)}.stat-box[_ngcontent-%COMP%]{border-radius:.25rem;border-style:var(--tw-border-style);border-width:1px;border-color:transparent;background-color:var(--color-gray-50, oklch(98.5% .002 247.839));padding:calc(var(--spacing, .25rem) * 3)}.stat-box[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.stat-box[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:var(--color-slate-900, oklch(20.8% .042 265.755))}.stat-label[_ngcontent-%COMP%]{font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-600, oklch(44.6% .03 256.802))}.stat-label[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.stat-value[_ngcontent-%COMP%]{font-size:var(--text-xl, 1.25rem);line-height:var(--tw-leading, var(--text-xl--line-height, calc(1.75 / 1.25)));--tw-font-weight: var(--font-weight-semibold, 600);font-weight:var(--font-weight-semibold, 600);color:var(--color-gray-900, oklch(21% .034 264.665))}.stat-value[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}.about-prose[_ngcontent-%COMP%]{color:var(--tw-prose-body);max-width:65ch;--tw-prose-body: #374151;--tw-prose-headings: #111827;--tw-prose-lead: #4b5563;--tw-prose-links: #111827;--tw-prose-bold: #111827;--tw-prose-counters: #6b7280;--tw-prose-bullets: #d1d5db;--tw-prose-hr: #e5e7eb;--tw-prose-quotes: #111827;--tw-prose-quote-borders: #e5e7eb;--tw-prose-captions: #6b7280;--tw-prose-code: #111827;--tw-prose-pre-code: #e5e7eb;--tw-prose-pre-bg: #1f2937;--tw-prose-th-borders: #d1d5db;--tw-prose-td-borders: #e5e7eb;max-width:none;font-size:.875rem;line-height:1.7142857;color:var(--color-gray-800, oklch(27.8% .033 256.848))}.about-prose[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-200, oklch(92.8% .006 264.531))}.sub-item[_ngcontent-%COMP%]{border-bottom-style:var(--tw-border-style);border-bottom-width:1px;border-color:var(--color-gray-200, oklch(92.8% .006 264.531));padding-bottom:calc(var(--spacing, .25rem) * 4)}.sub-item[_ngcontent-%COMP%]:last-child{border-style:var(--tw-border-style);border-width:0px}.sub-item[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-slate-800, oklch(27.9% .041 260.031))}.sub-title[_ngcontent-%COMP%]{margin-bottom:calc(var(--spacing, .25rem) * 1);--tw-font-weight: var(--font-weight-medium, 500);font-weight:var(--font-weight-medium, 500);color:var(--color-gray-900, oklch(21% .034 264.665))}.sub-title[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-100, oklch(96.7% .003 264.542))}@media (hover: hover){.title-link[_ngcontent-%COMP%]:hover{color:var(--color-blue-600, oklch(54.6% .245 262.881))}}@media (hover: hover){.title-link[_ngcontent-%COMP%]:where(.dark,.dark *):hover{color:var(--color-blue-400, oklch(70.7% .165 254.624))}}.sub-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:calc(var(--spacing, .25rem) * 3);font-size:var(--text-sm, .875rem);line-height:var(--tw-leading, var(--text-sm--line-height, calc(1.25 / .875)));color:var(--color-gray-600, oklch(44.6% .03 256.802))}.sub-meta[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.sub-meta-link[_ngcontent-%COMP%]{color:var(--color-blue-600, oklch(54.6% .245 262.881))}@media (hover: hover){.sub-meta-link[_ngcontent-%COMP%]:hover{text-decoration-line:underline}}.sub-meta-link[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}.sub-comment[_ngcontent-%COMP%]{color:var(--color-gray-800, oklch(27.8% .033 256.848))}.sub-comment[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-200, oklch(92.8% .006 264.531))}.subs-load-btn[_ngcontent-%COMP%]{margin-top:calc(var(--spacing, .25rem) * 6);width:100%;border-radius:.25rem;background-color:var(--color-blue-600, oklch(54.6% .245 262.881));padding-inline:calc(var(--spacing, .25rem) * 4);padding-block:calc(var(--spacing, .25rem) * 2);color:var(--color-white, #fff)}@media (hover: hover){.subs-load-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-blue-700, oklch(48.8% .243 264.376))}}.subs-load-btn[_ngcontent-%COMP%]:disabled{opacity:50%}.dead-item[_ngcontent-%COMP%]{color:var(--color-gray-500, oklch(55.1% .027 264.364));font-style:italic}.dead-item[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-600, oklch(44.6% .03 256.802))}.empty[_ngcontent-%COMP%]{padding-block:calc(var(--spacing, .25rem) * 8);text-align:center;color:var(--color-gray-500, oklch(55.1% .027 264.364))}.empty[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-gray-400, oklch(70.7% .022 261.325))}.error-card[_ngcontent-%COMP%]{border-radius:var(--radius-lg, .5rem);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-red-200, oklch(88.5% .062 18.334));background-color:var(--color-red-50, oklch(97.1% .013 17.38));padding:calc(var(--spacing, .25rem) * 6);text-align:center}.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){border-color:var(--color-red-800, oklch(44.4% .177 26.899))}.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:color-mix(in srgb,oklch(39.6% .141 25.723) 30%,transparent)}@supports (color: color-mix(in lab,red,red)){.error-card[_ngcontent-%COMP%]:where(.dark,.dark *){background-color:color-mix(in oklab,var(--color-red-900, oklch(39.6% .141 25.723)) 30%,transparent)}}.error-text[_ngcontent-%COMP%]{color:var(--color-red-800, oklch(44.4% .177 26.899))}.error-text[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-red-300, oklch(80.8% .114 19.571))}.error-btn[_ngcontent-%COMP%]{margin-top:calc(var(--spacing, .25rem) * 4);border-radius:.25rem;background-color:var(--color-red-600, oklch(57.7% .245 27.325));padding-inline:calc(var(--spacing, .25rem) * 4);padding-block:calc(var(--spacing, .25rem) * 2);color:var(--color-white, #fff)}@media (hover: hover){.error-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-red-700, oklch(50.5% .213 27.518))}}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-red-500, oklch(63.7% .237 25.331))}.error-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}@property --tw-font-weight{syntax: "*"; inherits: false;}@property --tw-border-style{syntax: "*"; inherits: false; initial-value: solid;}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-font-weight: initial;--tw-border-style: solid;--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`]})};export{q as UserComponent};
