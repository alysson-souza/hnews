import{e as I}from"./chunk-2OLOKPSM.js";import{a as L,b as R,c as Q,g as A}from"./chunk-T7623UGB.js";import{Ba as y,Mb as S,Na as d,Oa as m,Pa as h,Ta as f,Ua as u,Va as g,Vb as D,Wa as b,Wb as F,Z as C,Zb as z,_a as _,ab as p,ba as a,ca as s,cb as o,cc as N,gb as T,hb as k,ib as M,ka as v,kb as V,nb as w,pb as x,rb as P,sb as O,tb as U,va as l,wb as E}from"./chunk-JHIS7G6G.js";var W=["tagInput"],j=i=>["/user",i];function q(i,r){if(i&1){let e=_();u(0,"button",6),p("click",function(t){a(e);let c=o();return s(c.startEdit(t))})("keyup.enter",function(t){a(e);let c=o();return s(c.startEdit(t))})("keyup.space",function(t){a(e);let c=o();return s(c.startEdit(t))}),w(1),g()}if(i&2){let e=o();V("background-color",e.tag().color),d("aria-label","Tag: "+e.tag().tag),l(),x(" ",e.tag().tag," ")}}function H(i,r){if(i&1){let e=_();u(0,"button",7),p("click",function(t){a(e);let c=o();return s(c.startEdit(t))}),b(1,"fa-icon",8),g()}if(i&2){let e=o();d("aria-label","Add Tag For "+e.username),l(),f("icon",e.faUserTag)}}function G(i,r){if(i&1){let e=_();u(0,"button",12),p("click",function(){a(e);let t=o(2);return s(t.removeTag())}),w(1," \u2717 "),g()}i&2&&d("aria-label","Remove Tag")}function J(i,r){if(i&1){let e=_();u(0,"div",5)(1,"input",9,0),U("ngModelChange",function(t){a(e);let c=o();return O(c.editValue,t)||(c.editValue=t),s(t)}),p("keyup.enter",function(){a(e);let t=o();return s(t.saveTag())})("keyup.escape",function(){a(e);let t=o();return s(t.cancelEdit())})("blur",function(){a(e);let t=o();return s(t.onInputBlur())}),g(),u(3,"button",10),p("mousedown",function(){a(e);let t=o();return s(t.saveTag())}),w(4,"\u2713"),g(),m(5,G,2,1,"button",11),g()}if(i&2){let e=o();l(),P("ngModel",e.editValue),d("aria-label","Enter Tag For "+e.username),l(2),d("aria-label","Save Tag"),l(2),h(e.tag()?5:-1)}}var B=class i{_username="";set username(r){this._username=r,this.tag.set(this.tagsService.getTag(r))}get username(){return this._username}tagsService=C(L);tag=v(void 0);editing=v(!1);editValue="";faUserTag=A;tagInput;startEdit(r){r.preventDefault(),r.stopPropagation(),this.editing.set(!0),this.editValue=this.tag()?.tag||"",setTimeout(()=>{let e=this.tagInput?.nativeElement;e?.focus(),e?.select()},0)}saveTag(){let r=this.editValue.trim();r?(this.tagsService.setTag(this.username,r),this.tag.set(this.tagsService.getTag(this.username))):this.tag()&&(this.tagsService.removeTag(this.username),this.tag.set(void 0)),this.editing.set(!1),this.editValue=""}removeTag(){this.tagsService.removeTag(this.username),this.tag.set(void 0),this.editing.set(!1),this.editValue=""}onInputBlur(){setTimeout(()=>{this.editing()&&this.cancelEdit()},100)}cancelEdit(){this.editing.set(!1),this.editValue=""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=y({type:i,selectors:[["app-user-tag"]],viewQuery:function(e,n){if(e&1&&T(W,5),e&2){let t;k(t=M())&&(n.tagInput=t.first)}},inputs:{username:"username"},decls:6,vars:8,consts:[["tagInput",""],[1,"user-tag"],[1,"username-link",3,"routerLink"],["type","button",1,"tag-chip",3,"background-color"],[1,"add-btn"],[1,"editor"],["type","button",1,"tag-chip",3,"click","keyup.enter","keyup.space"],[1,"add-btn",3,"click"],[1,"icon",3,"icon"],["type","text","placeholder","Tag...",1,"tag-input","app-input","app-input-xs","w-20","px-2","py-1",3,"ngModelChange","keyup.enter","keyup.escape","blur","ngModel"],[1,"save-btn",3,"mousedown"],[1,"remove-btn"],[1,"remove-btn",3,"click"]],template:function(e,n){e&1&&(u(0,"span",1)(1,"a",2),w(2),g(),m(3,q,2,4,"button",3),m(4,H,2,2,"button",4),m(5,J,6,4,"div",5),g()),e&2&&(l(),f("routerLink",E(6,j,n.username)),d("aria-label","View Profile Of "+n.username),l(),x(" ",n.username," "),l(),h(n.tag()&&!n.editing()?3:-1),l(),h(!n.tag()&&!n.editing()?4:-1),l(),h(n.editing()?5:-1))},dependencies:[S,N,D,F,z,I,Q,R],styles:[`@layer properties;.user-tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:calc(var(--spacing, .25rem) * 1)}.username-link[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-blue-600, oklch(54.6% .245 262.881));border-radius:.25rem}@media (hover: hover){.username-link[_ngcontent-%COMP%]:hover{text-decoration-line:underline}}.username-link[_ngcontent-%COMP%]:where(.dark,.dark *){color:var(--color-blue-300, oklch(80.9% .105 251.813))}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.username-link[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.tag-chip[_ngcontent-%COMP%]{cursor:pointer;border-radius:.25rem;padding-inline:calc(var(--spacing, .25rem) * 1.5);padding-block:calc(var(--spacing, .25rem) * .5);font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-white, #fff)}.add-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-gray-400, oklch(70.7% .022 261.325));border-radius:.25rem;padding-inline:calc(var(--spacing, .25rem) * 1)}@media (hover: hover){.add-btn[_ngcontent-%COMP%]:hover{color:var(--color-gray-600, oklch(44.6% .03 256.802))}}.add-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-shadow: var(--tw-ring-inset,) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color, currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.add-btn[_ngcontent-%COMP%]:focus-visible{--tw-ring-color: var(--color-blue-500, oklch(62.3% .214 259.815))}.add-btn[_ngcontent-%COMP%]:focus-visible{--tw-outline-style: none;outline-style:none}.icon[_ngcontent-%COMP%]{vertical-align:-2px}.editor[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:calc(var(--spacing, .25rem) * 1)}.tag-input[_ngcontent-%COMP%]{font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)))}.save-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-green-600, oklch(62.7% .194 149.214))}@media (hover: hover){.save-btn[_ngcontent-%COMP%]:hover{color:var(--color-green-800, oklch(44.8% .119 151.328))}}.remove-btn[_ngcontent-%COMP%]{cursor:pointer;font-size:var(--text-xs, .75rem);line-height:var(--tw-leading, var(--text-xs--line-height, calc(1 / .75)));color:var(--color-red-600, oklch(57.7% .245 27.325))}@media (hover: hover){.remove-btn[_ngcontent-%COMP%]:hover{color:var(--color-red-800, oklch(44.4% .177 26.899))}}@property --tw-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-shadow-color{syntax: "*"; inherits: false;}@property --tw-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-inset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-shadow-color{syntax: "*"; inherits: false;}@property --tw-inset-shadow-alpha{syntax: "<percentage>"; inherits: false; initial-value: 100%;}@property --tw-ring-color{syntax: "*"; inherits: false;}@property --tw-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-inset-ring-color{syntax: "*"; inherits: false;}@property --tw-inset-ring-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@property --tw-ring-inset{syntax: "*"; inherits: false;}@property --tw-ring-offset-width{syntax: "<length>"; inherits: false; initial-value: 0px;}@property --tw-ring-offset-color{syntax: "*"; inherits: false; initial-value: #fff;}@property --tw-ring-offset-shadow{syntax: "*"; inherits: false; initial-value: 0 0 #0000;}@layer properties{@supports ((-webkit-hyphens: none) and (not (margin-trim: inline))) or ((-moz-orient: inline) and (not (color:rgb(from red r g b)))){*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]::backdrop{--tw-shadow: 0 0 #0000;--tw-shadow-color: initial;--tw-shadow-alpha: 100%;--tw-inset-shadow: 0 0 #0000;--tw-inset-shadow-color: initial;--tw-inset-shadow-alpha: 100%;--tw-ring-color: initial;--tw-ring-shadow: 0 0 #0000;--tw-inset-ring-color: initial;--tw-inset-ring-shadow: 0 0 #0000;--tw-ring-inset: initial;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-offset-shadow: 0 0 #0000}}}

`],changeDetection:0})};export{B as a};
